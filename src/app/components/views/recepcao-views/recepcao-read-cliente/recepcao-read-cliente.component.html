<body>
  <app-recepcao-header></app-recepcao-header>
  <app-footer></app-footer>
<div class="content">
  <h1>Lista de Pacientes</h1>
  <button class="mat-elevation-z8" (click)="navegarParaClienteCreate()" mat-raised-button color="primary">Adicionar Paciente</button>

  <mat-form-field>
    <mat-label>Filtro</mat-label>
    <input matInput (keyup)="applyFilter($event)" placeholder="" #input>
  </mat-form-field>

  <a class="total">Total de Pacientes:  {{ qtdClientes }}</a>

  <div class="mat-elevation-z8 content-table">

    <table class="table" mat-table [dataSource]="dataSource">

      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>ID</th>
        <td mat-cell *matCellDef="let row">{{ row.id }}</td>
      </ng-container>

      <ng-container matColumnDef="nome">
        <th mat-header-cell *matHeaderCellDef>NOME</th>
        <td mat-cell *matCellDef="let row">{{ row.nome }}</td>
      </ng-container>

      <ng-container matColumnDef="dataNascimento">
        <th mat-header-cell *matHeaderCellDef>DATA DE NASC</th>
        <td mat-cell *matCellDef="let row">{{ row.dataNascimento | date:'dd/MM/yyyy'}}</td>
      </ng-container>

      <ng-container matColumnDef="cpf">
          <th mat-header-cell *matHeaderCellDef>CPF</th>
          <td mat-cell *matCellDef="let row">{{ row.cpf }}</td>
        </ng-container>

        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef>E-MAIL</th>
          <td mat-cell *matCellDef="let row">{{ row.email }}</td>
        </ng-container>

        <ng-container matColumnDef="telefone">
          <th mat-header-cell *matHeaderCellDef>TELEFONE</th>
          <td mat-cell *matCellDef="let row">{{ row.telefone }}</td>
        </ng-container>

        <ng-container matColumnDef="acoes">
      <th class="mat-header-acoes" mat-header-cell *matHeaderCellDef>OPÇÕES</th>
       <td mat-cell *matCellDef="let row">
         <button class="button_Opcoes" mat-button [matMenuTriggerFor]="menu" mat-raised-button color="primary">Opções</button>
         <mat-menu #menu="matMenu">
           <button class="consultas" routerLink="{{ row.id }}/consultas" mat-menu-item><mat-icon class="consultas">folder_copy</mat-icon> Consultas</button>
           <button routerLink="agenda/create/{{ row.id }}" mat-menu-item><mat-icon class="agenda">calendar_today</mat-icon> Agendamento</button>
           <button routerLink="update/{{ row.id }}" mat-menu-item><mat-icon class="edit">edit</mat-icon> Atualização</button>
          </mat-menu>
        </td>
      </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="4">Nenhum Paciente Encontrado: "{{input.value}}"</td>
        </tr>
      </table>
      <mat-paginator [pageSizeOptions]="[5, 10, 20, 50]"
      showFirstLastButtons
      aria-label="Select page of periodic elements">
    </mat-paginator>
  </div>
 </div>
</body>
